{"version":3,"sources":["modules/search.js","components/Picture.js","container/PictureContainer.js","App.js","modules/index.js","index.js"],"names":["todayDate","Date","toISOString","replace","split","join","console","log","initialState","date","search","state","action","type","receivedDate","PictureBlock","styled","div","ImageBlock","Image","HdImage","Loading","InputBlock","React","memo","onChange","useState","data","setData","loading","setLoading","open","setOpen","useEffect","fetchData","a","searchedDate","axios","get","response","style","display","justifyContent","alignItems","margin","padding","value","max","min","required","media_type","src","url","alt","onClick","title","explanation","hdurl","Container","useSelector","dispatch","useDispatch","e","target","GlobalStyle","createGlobalStyle","App","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","logger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8RAMMA,GAFO,IAAIC,MAGdC,cACAC,QAAQ,MAAO,IACfC,MAAM,KACNC,KAAK,KAERC,QAAQC,IAAI,eAAgBP,GAErB,IAAMQ,EAAe,CAC1BC,KAAMT,GAeOU,MAZf,WAA+C,IAA/BC,EAA8B,uDAAtBH,EAAcI,EAAQ,uCAC5C,OAAQA,EAAOC,MACb,IApBe,kBAqBb,OAAO,eACFF,EADL,CAEEF,KAAMG,EAAOE,eAEjB,QACE,OAAOH,I,84DCrBb,IAAMI,EAAeC,IAAOC,IAAV,KAaZC,EAAaF,IAAOC,IAAV,KAKVE,EAAQH,IAAOC,IAAV,KAyBLG,EAAUJ,IAAOC,IAAV,KAiBPI,EAAUL,IAAOC,IAAV,KAmBPK,EAAaN,IAAOC,IAAV,KAsGDM,MAAMC,MAlFL,SAAC,GAAwB,IAAtBf,EAAqB,EAArBA,KAAMgB,EAAe,EAAfA,SAAe,EACdC,mBAAS,MADK,mBAC/BC,EAD+B,KACzBC,EADyB,OAERF,oBAAS,GAFD,mBAE/BG,EAF+B,KAEtBC,EAFsB,OAGdJ,oBAAS,GAHK,mBAG/BK,EAH+B,KAGzBC,EAHyB,KAsBtC,OAjBAC,qBAAU,WACR,IAAMC,EAAS,uCAAG,8BAAAC,EAAA,6DAChBL,GAAW,GADK,SAGRM,EAAe3B,EAAI,gBAAYA,GAAS,GAHhC,SAIS4B,IAAMC,IAAN,8FACkEF,IAL3E,OAIRG,EAJQ,OAOdX,EAAQW,EAASZ,MACjBG,GAAW,GARG,kDAUdI,IAVc,0DAAH,qDAafA,MACC,CAACzB,IAEAoB,EAEA,yBACEW,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,OAAQ,aACRC,QAAS,cAGX,kBAACxB,EAAD,OAGDM,EAGH,kBAACZ,EAAD,KACE,kBAACO,EAAD,KACE,2BACET,KAAK,OACLY,SAAUA,EACVqB,MAAOrC,EACPsC,IAAKvC,EAAaC,KAClBuC,IAAI,aACJC,UAAQ,KAGZ,kBAAC/B,EAAD,KACE,kBAACC,EAAD,KACuB,UAApBQ,EAAKuB,WACJ,yBACEC,IAAKxB,EAAKyB,IACVC,IAAK1B,EAAKyB,IACVE,QAAS,WACPtB,GAAQ,MAIZ,4BAAQuB,MAAM,UAAUJ,IAAKxB,EAAKyB,QAIxC,4BACGzB,EAAK4B,MADR,KACiB5B,EAAKlB,KADtB,KAGA,2BAAIkB,EAAK6B,aACRzB,GACC,kBAACX,EAAD,CACEkC,QAAS,WACPtB,GAAQ,KAGV,yBAAKmB,IAAKxB,EAAK8B,MAAOJ,IAAI,aAvChB,Q,8KCtIpB,IAAMK,EAAY1C,IAAOC,IAAV,KAwBAM,MAAMC,MAhBI,WACvB,IAAMf,EAAOkD,aAAY,SAAChD,GAAD,OAAWA,EAAMD,OAAOD,QAC3CmD,EAAWC,cAOjB,OACE,kBAACH,EAAD,KACE,kBAAC,EAAD,CAASjD,KAAMA,EAAMgB,SAPR,SAACqC,GAAO,IACfhB,EAAUgB,EAAEC,OAAZjB,MACRc,EFlBuC,CAAE/C,KAF1B,kBAE4CC,aEkBvCgC,W,4HChBxB,IAAMkB,EAAcC,YAAH,KAgBFC,MATf,WACE,OACE,oCACE,kBAACF,EAAD,MACA,kBAAC,EAAD,Q,OCRSG,EAJKC,0BAAgB,CAClC1D,W,yBCKI2D,EAAQC,sBACZH,EACAI,8BAAoBC,0BAAgBC,OAGtCC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUP,MAAOA,GACf,kBAAC,EAAD,QAGJQ,SAASC,eAAe,W","file":"static/js/main.643c8cbc.chunk.js","sourcesContent":["const SEARCHDATE = 'search/ONCHANGE';\r\n\r\nexport const searchDate = receivedDate => ({ type: SEARCHDATE, receivedDate });\r\n\r\nconst date = new Date();\r\n\r\nconst todayDate = date\r\n  .toISOString()\r\n  .replace(/T.*/, '')\r\n  .split('-')\r\n  .join('-');\r\n\r\nconsole.log('todayDate : ', todayDate);\r\n\r\nexport const initialState = {\r\n  date: todayDate\r\n};\r\n\r\nfunction search(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SEARCHDATE:\r\n      return {\r\n        ...state,\r\n        date: action.receivedDate\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default search;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport { initialState } from '../modules/search';\r\n\r\nconst PictureBlock = styled.div`\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  margin-top: 100px;\r\n  padding: 20px;\r\n\r\n  & p {\r\n    text-align: left;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n  }\r\n`;\r\n\r\nconst ImageBlock = styled.div`\r\n  max-width: 500px;\r\n  margin: 30px auto;\r\n`;\r\n\r\nconst Image = styled.div`\r\n  height: 0;\r\n  /* padding %는 부모 너비의 비율   */\r\n  /* 500 : x = 16 : 9   */\r\n  padding-top: 56.25%;\r\n  position: relative;\r\n\r\n  & img {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & iframe {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst HdImage = styled.div`\r\n  background: rgba(0, 0, 0, 0.4);\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  cursor: pointer;\r\n  & img {\r\n    max-width: 700px;\r\n    max-height: 700px;\r\n    padding: 20px;\r\n    margin: 120px auto;\r\n  }\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  border: 16px solid #f3f3f3;\r\n  border-radius: 50%;\r\n  border-top: 16px solid #3498db;\r\n  width: 120px;\r\n  height: 120px;\r\n  animation: spin 2s linear infinite;\r\n  margin: 0 auto;\r\n\r\n  @keyframes spin {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst InputBlock = styled.div`\r\n  padding: 20px;\r\n  text-align: center;\r\n\r\n  & input {\r\n    width: 230px;\r\n    margin: 0 auto;\r\n    height: 50px;\r\n    border-radius: 15px;\r\n    border-style: none;\r\n    border: 1px solid #adb5bd;\r\n    text-align: center;\r\n  }\r\n\r\n  input[type='date']::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Picture = ({ date, onChange }) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const searchedDate = date ? `&date=${date}` : '';\r\n        const response = await axios.get(\r\n          `https://api.nasa.gov/planetary/apod?api_key=TiCq8KlUDfEuJccadlVrNdHIZacCULGoGJ7hZtZ4${searchedDate}`\r\n        );\r\n        setData(response.data);\r\n        setLoading(false);\r\n      } catch (e) {\r\n        fetchData();\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [date]);\r\n\r\n  if (loading)\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          margin: '100px auto',\r\n          padding: '60px 20px',\r\n        }}\r\n      >\r\n        <Loading />\r\n      </div>\r\n    );\r\n  if (!data) return null;\r\n\r\n  return (\r\n    <PictureBlock>\r\n      <InputBlock>\r\n        <input\r\n          type=\"date\"\r\n          onChange={onChange}\r\n          value={date}\r\n          max={initialState.date}\r\n          min=\"1995-06-16\"\r\n          required\r\n        />\r\n      </InputBlock>\r\n      <ImageBlock>\r\n        <Image>\r\n          {data.media_type === 'image' ? (\r\n            <img\r\n              src={data.url}\r\n              alt={data.url}\r\n              onClick={() => {\r\n                setOpen(true);\r\n              }}\r\n            />\r\n          ) : (\r\n            <iframe title=\"youtube\" src={data.url}></iframe>\r\n          )}\r\n        </Image>\r\n      </ImageBlock>\r\n      <h2>\r\n        {data.title} ({data.date})\r\n      </h2>\r\n      <p>{data.explanation}</p>\r\n      {open && (\r\n        <HdImage\r\n          onClick={() => {\r\n            setOpen(false);\r\n          }}\r\n        >\r\n          <img src={data.hdurl} alt=\"hd_img\" />\r\n        </HdImage>\r\n      )}\r\n    </PictureBlock>\r\n  );\r\n};\r\n\r\nexport default React.memo(Picture);\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Picture from '../components/Picture';\r\nimport { searchDate } from '../modules/search';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  max-width: 768px;\r\n  height: auto;\r\n  background: white;\r\n  margin: 0 auto;\r\n  border-radius: 15px;\r\n`;\r\n\r\nconst PictureContainer = () => {\r\n  const date = useSelector((state) => state.search.date);\r\n  const dispatch = useDispatch();\r\n\r\n  const onChange = (e) => {\r\n    const { value } = e.target;\r\n    dispatch(searchDate(value));\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Picture date={date} onChange={onChange} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default React.memo(PictureContainer);\r\n","import React from 'react';\nimport PictureContainer from './container/PictureContainer';\nimport { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n body {\n   background: rgba(0,50,50,0.2);\n   \n }\n`;\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <PictureContainer />\n    </>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\r\nimport search from './search';\r\n\r\nconst rootReducer = combineReducers({\r\n  search\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createStore, applyMiddleware } from 'redux';\nimport rootReducer from './modules';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport logger from 'redux-logger';\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(logger))\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}