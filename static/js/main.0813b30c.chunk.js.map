{"version":3,"sources":["api/picture.js","modules/picture.js","components/Picture.js","container/PictureContainer.js","App.js","modules/index.js","index.js"],"names":["getPictureApi","date","a","yesterday","Date","setDate","getDate","toISOString","substring","searchedDate","axios","get","response","data","getPicture","dispatch","type","pictureAPI","picture","error","initialState","loading","state","action","PictureBlock","styled","div","ImageBlock","Image","HdImage","Loading","InputBlock","ErrorBlock","React","memo","onChange","useState","open","setOpen","todayDate","replace","split","join","useDispatch","style","display","justifyContent","alignItems","margin","padding","onClick","value","max","min","required","media_type","src","url","alt","title","explanation","hdurl","Container","useSelector","useEffect","e","target","GlobalStyle","createGlobalStyle","App","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","logger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0813b30c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport const getPictureApi = async (date) => {\r\n  // 어제의 날짜 'YYYY-MM-DD'\r\n  const yesterday = new Date(new Date().setDate(new Date().getDate() - 1))\r\n    .toISOString()\r\n    .substring(0, 10);\r\n\r\n  const searchedDate = date ? `&date=${date}` : `&date=${yesterday}`;\r\n  const response = await axios.get(\r\n    `https://api.nasa.gov/planetary/apod?api_key=TiCq8KlUDfEuJccadlVrNdHIZacCULGoGJ7hZtZ4${searchedDate}`\r\n  );\r\n\r\n  return response.data;\r\n};\r\n","import * as pictureAPI from '../api/picture';\r\n\r\nconst GET_PICTURE = 'GET_PICTURE';\r\nconst GET_PICTURE_SUCCESS = 'GET_PICTURE_SUCCESS';\r\nconst GET_PICTURE_ERROR = 'GET_PICTURE_ERROR';\r\n\r\nexport const getPicture = (date) => async (dispatch) => {\r\n  dispatch({ type: GET_PICTURE }); //요청이 시작\r\n  try {\r\n    const picture = await pictureAPI.getPictureApi(date); // Api를 불러옴\r\n    dispatch({ type: GET_PICTURE_SUCCESS, picture }); // 성공\r\n  } catch (e) {\r\n    dispatch({ type: GET_PICTURE_ERROR, error: e }); // 실패\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  picture: {\r\n    loading: false,\r\n    data: null,\r\n    error: null,\r\n  },\r\n};\r\n\r\nfunction picture(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_PICTURE:\r\n      return {\r\n        ...state,\r\n        picture: {\r\n          loading: true,\r\n          data: null,\r\n          error: null,\r\n        },\r\n      };\r\n    case GET_PICTURE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        picture: {\r\n          loading: false,\r\n          data: action.picture,\r\n          error: null,\r\n        },\r\n      };\r\n    case GET_PICTURE_ERROR:\r\n      return {\r\n        ...state,\r\n        picture: {\r\n          loading: false,\r\n          data: null,\r\n          error: action.error,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default picture;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { getPicture } from '../modules/picture';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst PictureBlock = styled.div`\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  margin-top: 100px;\r\n  padding: 20px;\r\n\r\n  & p {\r\n    text-align: left;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n  }\r\n`;\r\n\r\nconst ImageBlock = styled.div`\r\n  max-width: 500px;\r\n  margin: 30px auto;\r\n`;\r\n\r\nconst Image = styled.div`\r\n  height: 0;\r\n  /* padding %는 부모 너비의 비율   */\r\n  /* 500 : x = 16 : 9   */\r\n  padding-top: 56.25%;\r\n  position: relative;\r\n\r\n  & img {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & iframe {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst HdImage = styled.div`\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  overflow: auto;\r\n\r\n  @media screen and (max-width: 425px) {\r\n    display: none;\r\n  }\r\n\r\n  & img {\r\n    max-width: 900px;\r\n    max-height: 700px;\r\n    padding: 20px;\r\n    margin: 120px auto;\r\n\r\n    @media screen and (max-width: 768px) {\r\n      max-width: 600px;\r\n      max-height: 400px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  border: 16px solid #f3f3f3;\r\n  border-radius: 50%;\r\n  border-top: 16px solid #3498db;\r\n  width: 120px;\r\n  height: 120px;\r\n  animation: spin 2s linear infinite;\r\n  margin: 0 auto;\r\n\r\n  @keyframes spin {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst InputBlock = styled.div`\r\n  padding: 20px;\r\n  text-align: center;\r\n\r\n  & input {\r\n    width: 230px;\r\n    margin: 0 auto;\r\n    height: 50px;\r\n    border-radius: 15px;\r\n    border-style: none;\r\n    border: 1px solid #adb5bd;\r\n    text-align: center;\r\n  }\r\n\r\n  input[type='date']::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst ErrorBlock = styled.div`\r\n  max-width: 500px;\r\n  margin: 30px auto;\r\n  text-align: center;\r\n  padding: 50px 0;\r\n\r\n  & button {\r\n    background-color: #008cba;\r\n    border: none;\r\n    color: white;\r\n    padding: 15px 32px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    margin: 20px 0;\r\n    font-size: 30px;\r\n    cursor: pointer;\r\n    border-radius: 15px;\r\n  }\r\n\r\n  @media screen and (max-width: 320px) {\r\n    & button {\r\n      font-size: 20px;\r\n      padding: 10px 22px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Picture = ({ data, loading, error, onChange }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const date = new Date();\r\n  const todayDate = date.toISOString().replace(/T.*/, '').split('-').join('-');\r\n  const dispatch = useDispatch();\r\n\r\n  if (loading)\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          margin: '100px auto',\r\n          padding: '60px 20px',\r\n        }}\r\n      >\r\n        <Loading />\r\n      </div>\r\n    );\r\n  if (error)\r\n    return (\r\n      <ErrorBlock>\r\n        <h2>오늘의 사진이 아직 등록되지 않았어요 !</h2>\r\n        <button onClick={() => dispatch(getPicture())}>\r\n          어제 사진 보러 가기\r\n        </button>\r\n      </ErrorBlock>\r\n    );\r\n  if (!data) return null;\r\n\r\n  return (\r\n    <PictureBlock>\r\n      <InputBlock>\r\n        <input\r\n          type=\"date\"\r\n          onChange={onChange}\r\n          value={data.date}\r\n          max={todayDate}\r\n          min=\"1995-06-16\"\r\n          required\r\n        />\r\n      </InputBlock>\r\n      <ImageBlock>\r\n        <Image>\r\n          {data.media_type === 'image' ? (\r\n            <img\r\n              src={data.url}\r\n              alt={data.url}\r\n              onClick={() => {\r\n                setOpen(true);\r\n              }}\r\n            />\r\n          ) : (\r\n            <iframe title=\"youtube\" src={data.url}></iframe>\r\n          )}\r\n        </Image>\r\n      </ImageBlock>\r\n      <h2>\r\n        {data.title} ({data.date})\r\n      </h2>\r\n      <p>{data.explanation}</p>\r\n      {open && (\r\n        <HdImage\r\n          onClick={() => {\r\n            setOpen(false);\r\n          }}\r\n        >\r\n          <img src={data.hdurl} alt=\"hd_img\" />\r\n        </HdImage>\r\n      )}\r\n    </PictureBlock>\r\n  );\r\n};\r\n\r\nexport default React.memo(Picture);\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Picture from '../components/Picture';\r\nimport styled from 'styled-components';\r\nimport { useEffect } from 'react';\r\nimport { getPicture } from '../modules/picture';\r\n\r\nconst Container = styled.div`\r\n  max-width: 768px;\r\n  height: auto;\r\n  background: white;\r\n  margin: 0 auto;\r\n  border-radius: 15px;\r\n`;\r\n\r\nconst PictureContainer = () => {\r\n  const { data, loading, error } = useSelector(\r\n    (state) => state.picture.picture\r\n  );\r\n  const dispatch = useDispatch();\r\n  const todayDate = new Date().toISOString().substring(0, 10);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPicture(todayDate));\r\n  }, [dispatch, todayDate]);\r\n\r\n  const onChange = (e) => {\r\n    dispatch(getPicture(e.target.value));\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Picture\r\n        data={data}\r\n        loading={loading}\r\n        error={error}\r\n        onChange={onChange}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default React.memo(PictureContainer);\r\n","import React from 'react';\nimport PictureContainer from './container/PictureContainer';\nimport { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n body {\n   background: rgba(0,50,50,0.2);\n   \n }\n`;\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <PictureContainer />\n    </>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\r\nimport picture from './picture';\r\n\r\nconst rootReducer = combineReducers({\r\n  picture,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createStore, applyMiddleware } from 'redux';\nimport rootReducer from './modules';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport logger from 'redux-logger';\nimport ReduxThunk from 'redux-thunk';\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(ReduxThunk, logger))\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}